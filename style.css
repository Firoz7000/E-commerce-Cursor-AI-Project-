/* Typography base (responsive) */
html { font-size: clamp(15px, 0.9rem + 0.2vw, 17px); }
body { line-height: 1.64; }

/* Headings hierarchy */
header h1 {
    font-size: clamp(1.6rem, 1.1rem + 1.5vw, 2.18rem);
    font-weight: 700;
}
section h2 {
    margin: 0 0 var(--space-2) 0;
    font-size: clamp(1.15rem, 1rem + 0.8vw, 1.5rem);
    font-weight: 650;
    color: #2b2f3a;
}
.product h3 {
    font-size: clamp(1.02rem, 0.92rem + 0.5vw, 1.20rem);
    font-weight: 650;
}

/* Body text */
p { line-height: 1.55; }
.prod-desc { color: #575b6a; }
[id^="price-"] { font-weight: 650; color: #1f375f; }

/* Interactive controls: consistent padding via tokens */
:root {
    --pad-y: 0.62rem;
    --pad-x: 1.2rem;
}
button, .category-filter-btn, #open-feedback, #checkout-btn, #cart-items button {
    padding: var(--pad-y) var(--pad-x);
}
#search-bar, #feedback-form input, #feedback-form textarea {
    padding: calc(var(--pad-y) + 0.17rem) calc(var(--pad-x) - 0.02rem);
}
body {
    font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
    background: #f6f7fb;
    color: #23262f;
    margin: 0;
    padding: 0;
    letter-spacing: 0.01em;
    line-height: 1.64;
}
:root {
    /* Responsive spacing scale (auto adjusts with viewport) */
    --space-base: clamp(0.6rem, 1vw + 0.4rem, 1.2rem);
    --space-1: calc(var(--space-base) * 1);   /* ~0.6-1.2rem */
    --space-2: calc(var(--space-base) * 1.6); /* ~1.0-1.9rem */
    --space-3: calc(var(--space-base) * 2.2); /* ~1.3-2.6rem */
    --space-4: calc(var(--space-base) * 3);   /* ~1.8-3.6rem */
}
.category-label {
    background: linear-gradient(90deg,#667eea 0,#764ba2 100%);
    color: #fff;
    padding: 0.3rem 0.8rem;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 500;
    text-align: center;
    margin-bottom: var(--space-1);
    letter-spacing: 0.5px;
    box-shadow: 0 2px 6px rgba(102,126,234,0.3);
}

.category-filter-btn {
    transition: all 0.2s ease;
}

.category-filter-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.category-filter-btn.active {
    background: linear-gradient(90deg,#3178ff 0,#56cfff 100%) !important;
    color: #fff !important;
    box-shadow: 0 2px 8px rgba(49,120,255,0.3);
}
header {
    background: #fff;
    padding: var(--space-3) var(--space-4);
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 12px rgba(30,40,90,0.04), 0 1.5px 0 #eee;
    position: sticky;
    top: 0;
    z-index: 44;
}
header h1 {
    margin: 0 0 var(--space-1) 0;
    font-size: clamp(1.6rem, 1.1rem + 1.5vw, 2.18rem);
    font-weight: 650;
    letter-spacing: 0.01em;
    line-height: 1.05;
}
nav {
    display: flex;
    align-items: center;
    gap: var(--space-1);
}
#cart-count {
    background: #eff3fb;
    color: #1976d2;
    padding: 0.49rem 1.18rem;
    font-weight: 500;
    border-radius: 22px;
    font-size: 1.09rem;
    border: 1.5px solid #e3e8f0;
    margin-right: 0.1rem;
}
main {
    display: flex;
    align-items: flex-start;
    max-width: 1240px;
    margin: var(--space-4) auto var(--space-4) auto;
    gap: clamp(1rem, 1.5vw, var(--space-3));
    padding: 0 var(--space-1);
}
/* give general sections breathing room */
section { margin-block: var(--space-3); }

#products {
    flex: 3;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(clamp(190px, 21vw, 280px), 1fr));
    gap: clamp(0.8rem, 1.6vw, var(--space-3));
}
.product {
    background: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 2px 12px rgba(32,53,120,0.09);
    padding: 1.45rem 1.7rem 1.13rem 1.7rem;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    transition: box-shadow 0.17s, transform 0.17s;
    gap: var(--space-2);
}
.product:hover {
    box-shadow: 0 7px 22px rgba(32,53,120,0.11), 0 2px 12px rgba(32,53,120,0.07);
    transform: translateY(-3px) scale(1.017);
}
.product img {
    width: 100%;
    max-height: clamp(120px, 18vh, 200px);
    object-fit: contain;
    margin-bottom: var(--space-2);
    border-radius: 1rem;
    background: #f6f7fa;
}
.product h3 {
    margin: 0.22em 0 0.08em 0;
    font-size: clamp(1.02rem, 0.92rem + 0.5vw, 1.20rem);
    font-weight: 620;
    line-height: 1.15;
    letter-spacing: 0.005em;
}
.prod-desc {
    color: #676b7c;
    font-size: 1rem;
    margin: 0 0 var(--space-2) 0;
    min-height: 32px;
    line-height: 1.45;
}
.product p {
    margin: 0 0 var(--space-2) 0;
    font-size: 1.12rem;
    line-height: 1.25;
}
/* emphasize price labels generated by JS */
[id^="price-"] {
    font-weight: 600;
    color: #243b6b;
    font-size: clamp(1rem, 0.96rem + 0.3vw, 1.12rem);
}
.product button {
    background: linear-gradient(90deg,#3178ff 0,#56cfff 100%);
    color: #fff;
    font-weight: 510;
    border: none;
    padding: 0.62rem 1.32rem;
    border-radius: 8px;
    cursor: pointer;
    margin-top: auto;
    font-size: 1.06rem;
    box-shadow: 0 1px 4px rgba(49,120,255,0.07);
    outline: none;
    transition: background 0.19s, box-shadow 0.19s;
    letter-spacing: 0.02em;
}
.product button:hover, .product button:focus {
    background: linear-gradient(90deg,#1954b6 0,#27aac9 100%);
    box-shadow: 0 2px 10px rgba(49,120,255,0.11);
}
#cart {
    flex: 1;
    background: #fcfdff;
    border-radius: 1.5rem;
    box-shadow: 0 4px 18px rgba(39,62,120,0.11);
    padding: 1.65rem 1.2rem 1.18rem 1.2rem;
    min-width: 266px;
    max-width: 300px;
    position: sticky;
    top: 6.5rem;
    height: fit-content;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}
#cart h2 {
    margin-top: 0;
    font-size: clamp(1.12rem, 1rem + 0.6vw, 1.26rem);
    font-weight: 570;
    letter-spacing: 0.01em;
    margin-bottom: var(--space-2);
}
#cart-items {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--space-2) 0;
    max-height: 233px;
    overflow-y: auto;
}
#cart-items li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
    padding: 6px 0 3px 0;
    border-bottom: 1px solid #eef1f8;
    font-size: 1.05rem;
}
#cart-items button {
    background: #ffeaee;
    color: #d02b41;
    font-size: 1.01rem;
    font-weight: 510;
    border: none;
    border-radius: 6px;
    padding: 0.21rem 0.79rem;
    cursor: pointer;
    transition: background 0.13s;
}
#cart-items button:hover, #cart-items button:focus {
    background: #ffd3dc;
    color: #b10021;
}
#cart-total {
    font-weight: 550;
    margin: 1.11em 0 0.49em 0;
    text-align: right;
    font-size: 1.09rem;
    color: #284a7b;
    letter-spacing: 0.01em;
}
#checkout-btn {
    width: 100%;
    padding: 0.84rem;
    background: linear-gradient(90deg,#249e94 0,#61ce97 100%);
    color: #fff;
    border: none;
    border-radius: 10px;
    font-size: 1.08rem;
    cursor: pointer;
    font-weight: 570;
    margin-top: 0.69em;
    outline: none;
    box-shadow: 0 1px 6px rgba(36,158,148,0.08);
    transition: background 0.17s, box-shadow 0.17s;
    letter-spacing: 0.02em;
}
#checkout-btn:hover, #checkout-btn:focus {
    background: linear-gradient(90deg,#127366 0,#30a664 100%);
    box-shadow: 0 2px 16px rgba(36,158,148,0.13);
}
#search-bar {
    font-size: 1.13rem;
    border-radius: 10px;
    padding: 0.79rem 1.17rem;
    border: 1.5px solid #e3e8f0;
    margin-bottom: var(--space-3);
    background: #f7fafc;
    box-shadow: 0 1px 4px rgba(190,200,255,0.09);
    outline: none;
    width: 100%;
    max-width: 386px;
    transition: border 0.12s;
}
#search-bar:focus {
    border: 1.7px solid #299fda;
    background: #fafdfe;
}
#open-feedback {
    background: linear-gradient(90deg,#ffd300 0,#ffe7a7 100%);
    color: #23262f !important;
    font-weight: 540;
    box-shadow: 0 1px 6px rgba(255,211,0,0.06);
    outline: none;
    padding: 8px 23px;
    border-radius: 20px;
    font-size: 1.12rem;
    border: none;
    cursor: pointer;
    margin-left: var(--space-1);
    transition: background 0.12s, box-shadow 0.13s;
    letter-spacing: 0.01em;
}
#open-feedback:hover, #open-feedback:focus {
    background: linear-gradient(90deg,#ffe063 0,#ffe6b8 100%);
    color: #302602 !important;
    box-shadow: 0 2px 12px rgba(255,211,0,0.12);
}
#feedback-modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0; top: 0;
    width: 100vw; height: 100vh;
    background:rgba(0,0,0,0.18);
    align-items: center;
    justify-content: center;
}
#feedback-form {
    background: #fff;
    padding: 2.4rem 2.7rem 1.5rem 2.7rem;
    border-radius: 1.7rem;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    min-width: 335px;
    max-width: 99vw;
    box-shadow:0 4px 30px rgba(30,40,120,0.10);
    border: 1.5px solid #f3f6fc;
}
#feedback-form input, #feedback-form textarea {
    font-size: 1.13rem;
    padding: 0.84rem 1.18rem;
    border-radius: 10px;
    border: 1.5px solid #e4eaf4;
    background: #fbfbff;
    outline: none;
    transition: border .12s;
    letter-spacing: 0.01em;
}
#feedback-form input:focus, #feedback-form textarea:focus {
    border: 1.7px solid #299fda;
    background: #fafdfe;
}
#feedback-form button[type=submit] {
    background: linear-gradient(90deg,#3178ff 0,#56cfff 100%);
    color: #fff;
    border: none;
    padding: 0.78rem 1.48rem;
    border-radius: 12px;
    font-size: 1.12rem;
    font-weight: 540;
    cursor: pointer;
    box-shadow: 0 1px 4px rgba(49,120,255,0.09);
    margin-right: 0.7rem;
    letter-spacing: 0.01em;
    transition: background 0.19s, box-shadow 0.19s;
}
#feedback-form button[type=submit]:hover, #feedback-form button[type=submit]:focus {
    background: linear-gradient(90deg,#1954b6 0,#27aac9 100%);
    box-shadow: 0 2px 10px rgba(49,120,255,0.13);
}
#feedback-form button[type=button] {
    background: #f4f4f5;
    color: #444;
    border: none;
    padding: 0.78rem 1.22rem;
    border-radius: 12px;
    font-size: 1.12rem;
    cursor: pointer;
    margin-right: 0.3rem;
    transition: background 0.12s;
}
#feedback-form button[type=button]:hover, #feedback-form button[type=button]:focus {
    background: #ececec;
    color: #24262b;
}
#fb-message {
    color: #178a46;
    font-weight: 610;
    letter-spacing: .02em;
    font-size: 1.09rem;
}
.stars-row {
    margin: 0.13em 0 0.32em 0;
    min-height: 1.2em;
}
.stars-wrap {
    display: inline-flex;
    align-items: center;
    gap: 0.16em;
}
.star {
    font-size: 1.17em;
    letter-spacing: -0.06em;
    margin-right: 1.5px;
    line-height: 1;
}
.star.full {
    color: #ffc90b;
    text-shadow: 0 1px 3px #ffe6a3;
}
.star.half {
    color: #ffe17a;
    text-shadow: 0 1px 3px #ffeebb;
}
.star.empty {
    color: #e0e0e0;
    text-shadow: none;
}
.rating-number {
    font-size: 1em;
    font-weight: 540;
    color: #978118;
    margin-left: 3px;
}
@media (max-width: 1100px) {
    #cart { max-width: 280px; }
}
@media (max-width: 900px) {
    main {
        flex-direction: column;
        gap: var(--space-3);
    }
    #cart {
        max-width: none;
        width: 100%;
        position: static;
        margin-top: var(--space-3);
    }
}
@media (max-width: 650px) {
    header {
        padding: 1.18rem 0.7rem 1.18rem 1.05rem;
        font-size: 0.94rem;
    }
    main {
        margin: 0.83rem auto 1.54rem auto;
        padding: 0 0.17rem;
    }
    #feedback-form {
        padding: 1.24rem 0.69rem 1.15rem 0.69rem;
        min-width: unset;
    }
}
/* Override inline gaps in the search/filter toolbar (index.html has inline styles) */
section:first-of-type > div {
    gap: var(--space-1) !important;
    margin-bottom: var(--space-3) !important;
    flex-wrap: wrap !important;
}
/* Second flex group that holds category buttons */
section:first-of-type > div > div + div {
    gap: var(--space-1) !important;
}

/* Reduce the first section’s top margin so the grid sits higher */
section:first-of-type { margin-top: var(--space-2); }
